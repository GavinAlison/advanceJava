package com.alison.json;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
import com.alibaba.fastjson.TypeReference;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.Getter;
import lombok.Setter;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;

import java.time.Instant;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

@Slf4j
public class JsonTest {

    public static void main(String[] args) {
        String respJson = "";
        JSONObject.parseObject(respJson, new TypeReference<DataResponse<Map<String, Object>>>() {
        });
        String userJson = "";
        ArrayList<User> userList =
                JSONObject.parseObject(userJson, new TypeReference<ArrayList<User>>() {
                });
    }

    class User {

    }

    class DataResponse<T> {
        private RespStatus status;
        private T data;
        private long consume;
        private long responseTimestamp = Instant.now().toEpochMilli();
        private String reason;
        private Integer code;
    }


    @AllArgsConstructor
    @Getter
    enum RespStatus {
        ERROR_NONE_ADAPTER(4000, "数据适配器不存在"),
        ERROR_NO_AUTH(3100, "授权失败"),
        ERROR(3000, "失败"),
        ERROR_TIMEOUT(3200, "访问超时"),
        DATA_MISS(2000, "无命中，字段不存在但数据存在"),
        DATA_EMPTY(2100, "数据为空"),
        DATA_FREE(1200, "无费用数据"),
        DATA_CACHE(1100, "缓存查询"),
        DECISION_ASYNC(2200, "决策异步"),
        SUCCESS(1000, "查询成功");
        private int code;
        private String msg;
    }


    @Test
    public void convert() {
        String test = "[{\"name\":\"ANYEST-DATA-SERVICE\",\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"status\":\"UP\",\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":958000000},\"instances\":[{\"id\":\"a6e8159b2466\",\"version\":3,\"registration\":{\"name\":\"ANYEST-DATA-SERVICE\",\"managementUrl\":\"http://172.16.102.21:9370/actuator\",\"healthUrl\":\"http://172.16.102.21:9370/actuator/health\",\"serviceUrl\":\"http://172.16.102.21:9370/\",\"source\":\"discovery\",\"metadata\":{\"nacos.instanceId\":\"172.16.102.21#9370#DEFAULT#DEFAULT_GROUP@@ANYEST-DATA-SERVICE\",\"nacos.weight\":\"1.0\",\"nacos.cluster\":\"DEFAULT\",\"nacos.healthy\":\"true\"}},\"registered\":true,\"statusInfo\":{\"status\":\"UP\",\"details\":{\"hystrix\":{\"status\":\"UP\"},\"nacosConfig\":{\"status\":\"UP\",\"details\":{\"dataId: 'anyest-data-service.yaml', group: 'DEFAULT_GROUP'\":\"config is empty\",\"dataIds\":[\"anyest-data-service.yaml\",\"anyest-data-service-test21.yaml\",\"share-config.yaml\"]}},\"diskSpace\":{\"status\":\"UP\",\"details\":{\"total\":83035619328,\"free\":22545817600,\"threshold\":10485760}},\"refreshScope\":{\"status\":\"UP\"},\"discoveryComposite\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\",\"details\":{\"discoveryClient\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\"}}},\"db\":{\"status\":\"UP\",\"details\":{\"database\":\"H2\",\"hello\":1}}}},\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":958000000},\"info\":{\"build\":{\"version\":\"fc_1.5.0-SNAPSHOT\",\"artifact\":\"anyest-engine-client\",\"name\":\"anyest-engine-client\",\"encoding\":\"UTF-8\",\"group\":\"jrx.anyest\",\"time\":\"202010270225UTC\"}},\"endpoints\":[{\"id\":\"httptrace\",\"url\":\"http://172.16.102.21:9370/actuator/httptrace\"},{\"id\":\"caches\",\"url\":\"http://172.16.102.21:9370/actuator/caches\"},{\"id\":\"loggers\",\"url\":\"http://172.16.102.21:9370/actuator/loggers\"},{\"id\":\"refresh\",\"url\":\"http://172.16.102.21:9370/actuator/refresh\"},{\"id\":\"health\",\"url\":\"http://172.16.102.21:9370/actuator/health\"},{\"id\":\"env\",\"url\":\"http://172.16.102.21:9370/actuator/env\"},{\"id\":\"heapdump\",\"url\":\"http://172.16.102.21:9370/actuator/heapdump\"},{\"id\":\"features\",\"url\":\"http://172.16.102.21:9370/actuator/features\"},{\"id\":\"mappings\",\"url\":\"http://172.16.102.21:9370/actuator/mappings\"},{\"id\":\"scheduledtasks\",\"url\":\"http://172.16.102.21:9370/actuator/scheduledtasks\"},{\"id\":\"archaius\",\"url\":\"http://172.16.102.21:9370/actuator/archaius\"},{\"id\":\"nacos-config\",\"url\":\"http://172.16.102.21:9370/actuator/nacos-config\"},{\"id\":\"configprops\",\"url\":\"http://172.16.102.21:9370/actuator/configprops\"},{\"id\":\"beans\",\"url\":\"http://172.16.102.21:9370/actuator/beans\"},{\"id\":\"threaddump\",\"url\":\"http://172.16.102.21:9370/actuator/threaddump\"},{\"id\":\"nacos-discovery\",\"url\":\"http://172.16.102.21:9370/actuator/nacos-discovery\"},{\"id\":\"metrics\",\"url\":\"http://172.16.102.21:9370/actuator/metrics\"},{\"id\":\"conditions\",\"url\":\"http://172.16.102.21:9370/actuator/conditions\"},{\"id\":\"auditevents\",\"url\":\"http://172.16.102.21:9370/actuator/auditevents\"},{\"id\":\"info\",\"url\":\"http://172.16.102.21:9370/actuator/info\"}],\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"tags\":{}}]},{\"name\":\"ANYEST-CENTER-ADMIN\",\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"status\":\"UP\",\"statusTimestamp\":{\"epochSecond\":1603782737,\"nano\":616000000},\"instances\":[{\"id\":\"266943359802\",\"version\":3,\"registration\":{\"name\":\"ANYEST-CENTER-ADMIN\",\"managementUrl\":\"http://172.16.102.21:9800/actuator\",\"healthUrl\":\"http://172.16.102.21:9800/actuator/health\",\"serviceUrl\":\"http://172.16.102.21:9800/\",\"source\":\"discovery\",\"metadata\":{\"nacos.instanceId\":\"172.16.102.21#9800#DEFAULT#DEFAULT_GROUP@@ANYEST-CENTER-ADMIN\",\"nacos.weight\":\"1.0\",\"nacos.cluster\":\"DEFAULT\",\"nacos.healthy\":\"true\"}},\"registered\":true,\"statusInfo\":{\"status\":\"UP\",\"details\":{\"hystrix\":{\"status\":\"UP\"},\"nacosConfig\":{\"status\":\"UP\",\"details\":{\"dataId: 'anyest-center-admin.yaml', group: 'DEFAULT_GROUP'\":\"config is empty\",\"dataIds\":[\"anyest-center-admin.yaml\",\"share-config.yaml\",\"anyest-center-admin-test21.yaml\"]}},\"diskSpace\":{\"status\":\"UP\",\"details\":{\"total\":83035619328,\"free\":22535176192,\"threshold\":10485760}},\"refreshScope\":{\"status\":\"UP\"},\"discoveryComposite\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\",\"details\":{\"discoveryClient\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\"}}},\"db\":{\"status\":\"UP\",\"details\":{\"database\":\"MySQL\",\"hello\":1}}}},\"statusTimestamp\":{\"epochSecond\":1603782737,\"nano\":616000000},\"info\":{\"build\":{\"version\":\"fc_1.5.0-SNAPSHOT\",\"artifact\":\"anyest-engine-client\",\"name\":\"anyest-engine-client\",\"encoding\":\"UTF-8\",\"group\":\"jrx.anyest\",\"time\":\"202010270704UTC\"}},\"endpoints\":[{\"id\":\"httptrace\",\"url\":\"http://172.16.102.21:9800/actuator/httptrace\"},{\"id\":\"caches\",\"url\":\"http://172.16.102.21:9800/actuator/caches\"},{\"id\":\"loggers\",\"url\":\"http://172.16.102.21:9800/actuator/loggers\"},{\"id\":\"refresh\",\"url\":\"http://172.16.102.21:9800/actuator/refresh\"},{\"id\":\"health\",\"url\":\"http://172.16.102.21:9800/actuator/health\"},{\"id\":\"env\",\"url\":\"http://172.16.102.21:9800/actuator/env\"},{\"id\":\"heapdump\",\"url\":\"http://172.16.102.21:9800/actuator/heapdump\"},{\"id\":\"features\",\"url\":\"http://172.16.102.21:9800/actuator/features\"},{\"id\":\"mappings\",\"url\":\"http://172.16.102.21:9800/actuator/mappings\"},{\"id\":\"scheduledtasks\",\"url\":\"http://172.16.102.21:9800/actuator/scheduledtasks\"},{\"id\":\"archaius\",\"url\":\"http://172.16.102.21:9800/actuator/archaius\"},{\"id\":\"nacos-config\",\"url\":\"http://172.16.102.21:9800/actuator/nacos-config\"},{\"id\":\"configprops\",\"url\":\"http://172.16.102.21:9800/actuator/configprops\"},{\"id\":\"beans\",\"url\":\"http://172.16.102.21:9800/actuator/beans\"},{\"id\":\"threaddump\",\"url\":\"http://172.16.102.21:9800/actuator/threaddump\"},{\"id\":\"nacos-discovery\",\"url\":\"http://172.16.102.21:9800/actuator/nacos-discovery\"},{\"id\":\"metrics\",\"url\":\"http://172.16.102.21:9800/actuator/metrics\"},{\"id\":\"conditions\",\"url\":\"http://172.16.102.21:9800/actuator/conditions\"},{\"id\":\"auditevents\",\"url\":\"http://172.16.102.21:9800/actuator/auditevents\"},{\"id\":\"info\",\"url\":\"http://172.16.102.21:9800/actuator/info\"}],\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"tags\":{}}]},{\"name\":\"ANYEST-DATAWAREHOUSE-SERVER\",\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"status\":\"UP\",\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":925000000},\"instances\":[{\"id\":\"71683be06dc5\",\"version\":3,\"registration\":{\"name\":\"ANYEST-DATAWAREHOUSE-SERVER\",\"managementUrl\":\"http://172.16.103.105:9281/actuator\",\"healthUrl\":\"http://172.16.103.105:9281/actuator/health\",\"serviceUrl\":\"http://172.16.103.105:9281/\",\"source\":\"discovery\",\"metadata\":{\"nacos.instanceId\":\"172.16.103.105#9281#DEFAULT#DEFAULT_GROUP@@ANYEST-DATAWAREHOUSE-SERVER\",\"nacos.weight\":\"1.0\",\"nacos.cluster\":\"DEFAULT\",\"nacos.healthy\":\"true\"}},\"registered\":true,\"statusInfo\":{\"status\":\"UP\",\"details\":{\"hystrix\":{\"status\":\"UP\"},\"nacosConfig\":{\"status\":\"UP\",\"details\":{\"dataId: 'anyest-datawarehouse-server.yaml', group: 'DEFAULT_GROUP'\":\"config is empty\",\"dataIds\":[\"anyest-datawarehouse-server.yaml\",\"anyest-datawarehouse-server-test21.yaml\",\"share-config.yaml\"]}},\"diskSpace\":{\"status\":\"UP\",\"details\":{\"total\":4176551809024,\"free\":3189804236800,\"threshold\":10485760}},\"refreshScope\":{\"status\":\"UP\"},\"discoveryComposite\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\",\"details\":{\"discoveryClient\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\"}}}}},\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":925000000},\"info\":{\"build\":{\"version\":\"fc_1.5.0-SNAPSHOT\",\"artifact\":\"anyest-engine-base\",\"name\":\"anyest-engine-base\",\"encoding\":\"UTF-8\",\"group\":\"jrx.anyest\",\"time\":\"202010270236UTC\"}},\"endpoints\":[{\"id\":\"httptrace\",\"url\":\"http://172.16.103.105:9281/actuator/httptrace\"},{\"id\":\"caches\",\"url\":\"http://172.16.103.105:9281/actuator/caches\"},{\"id\":\"loggers\",\"url\":\"http://172.16.103.105:9281/actuator/loggers\"},{\"id\":\"refresh\",\"url\":\"http://172.16.103.105:9281/actuator/refresh\"},{\"id\":\"health\",\"url\":\"http://172.16.103.105:9281/actuator/health\"},{\"id\":\"env\",\"url\":\"http://172.16.103.105:9281/actuator/env\"},{\"id\":\"heapdump\",\"url\":\"http://172.16.103.105:9281/actuator/heapdump\"},{\"id\":\"features\",\"url\":\"http://172.16.103.105:9281/actuator/features\"},{\"id\":\"mappings\",\"url\":\"http://172.16.103.105:9281/actuator/mappings\"},{\"id\":\"scheduledtasks\",\"url\":\"http://172.16.103.105:9281/actuator/scheduledtasks\"},{\"id\":\"archaius\",\"url\":\"http://172.16.103.105:9281/actuator/archaius\"},{\"id\":\"nacos-config\",\"url\":\"http://172.16.103.105:9281/actuator/nacos-config\"},{\"id\":\"configprops\",\"url\":\"http://172.16.103.105:9281/actuator/configprops\"},{\"id\":\"beans\",\"url\":\"http://172.16.103.105:9281/actuator/beans\"},{\"id\":\"threaddump\",\"url\":\"http://172.16.103.105:9281/actuator/threaddump\"},{\"id\":\"nacos-discovery\",\"url\":\"http://172.16.103.105:9281/actuator/nacos-discovery\"},{\"id\":\"metrics\",\"url\":\"http://172.16.103.105:9281/actuator/metrics\"},{\"id\":\"conditions\",\"url\":\"http://172.16.103.105:9281/actuator/conditions\"},{\"id\":\"auditevents\",\"url\":\"http://172.16.103.105:9281/actuator/auditevents\"},{\"id\":\"info\",\"url\":\"http://172.16.103.105:9281/actuator/info\"}],\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"tags\":{}}]},{\"name\":\"THIRD-API\",\"buildVersion\":\"fc_1.4.0-SNAPSHOT\",\"status\":\"UP\",\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":942000000},\"instances\":[{\"id\":\"f7d30605fc52\",\"version\":3,\"registration\":{\"name\":\"THIRD-API\",\"managementUrl\":\"http://172.16.102.22:9230/actuator\",\"healthUrl\":\"http://172.16.102.22:9230/actuator/health\",\"serviceUrl\":\"http://172.16.102.22:9230/\",\"source\":\"discovery\",\"metadata\":{\"nacos.instanceId\":\"172.16.102.22#9230#DEFAULT#DEFAULT_GROUP@@THIRD-API\",\"nacos.weight\":\"1.0\",\"nacos.cluster\":\"DEFAULT\",\"nacos.healthy\":\"true\",\"preserved.register.source\":\"SPRING_CLOUD\"}},\"registered\":true,\"statusInfo\":{\"status\":\"UP\",\"details\":{\"nacosDiscovery\":{\"status\":\"UP\"},\"nacosConfig\":{\"status\":\"UP\"},\"diskSpace\":{\"status\":\"UP\",\"details\":{\"total\":61905522688,\"free\":35972153344,\"threshold\":10485760}},\"refreshScope\":{\"status\":\"UP\"},\"discoveryComposite\":{\"status\":\"UP\",\"details\":{\"discoveryClient\":{\"status\":\"UP\",\"details\":{\"services\":[\"ANYEST-DATAWAREHOUSE-SERVER\",\"THIRD-API\",\"ANYEST-DATA-SERVICE\",\"ANYEST-ENGINE-SERVER\",\"ANYEST-STRATEGY-ASYNC-SERVER\",\"ANYEST-SCHEDULE-SERVER\",\"ANYEST-CENTER-ADMIN\"]}}}}}},\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":942000000},\"info\":{\"build\":{\"version\":\"fc_1.4.0-SNAPSHOT\",\"artifact\":\"anyest-engine-base\",\"name\":\"anyest-engine-base\",\"encoding\":\"UTF-8\",\"group\":\"jrx.anyest\",\"time\":\"202009291047UTC\"}},\"endpoints\":[{\"id\":\"httptrace\",\"url\":\"http://172.16.102.22:9230/actuator/httptrace\"},{\"id\":\"caches\",\"url\":\"http://172.16.102.22:9230/actuator/caches\"},{\"id\":\"loggers\",\"url\":\"http://172.16.102.22:9230/actuator/loggers\"},{\"id\":\"refresh\",\"url\":\"http://172.16.102.22:9230/actuator/refresh\"},{\"id\":\"health\",\"url\":\"http://172.16.102.22:9230/actuator/health\"},{\"id\":\"env\",\"url\":\"http://172.16.102.22:9230/actuator/env\"},{\"id\":\"heapdump\",\"url\":\"http://172.16.102.22:9230/actuator/heapdump\"},{\"id\":\"features\",\"url\":\"http://172.16.102.22:9230/actuator/features\"},{\"id\":\"mappings\",\"url\":\"http://172.16.102.22:9230/actuator/mappings\"},{\"id\":\"scheduledtasks\",\"url\":\"http://172.16.102.22:9230/actuator/scheduledtasks\"},{\"id\":\"archaius\",\"url\":\"http://172.16.102.22:9230/actuator/archaius\"},{\"id\":\"nacos-config\",\"url\":\"http://172.16.102.22:9230/actuator/nacos-config\"},{\"id\":\"configprops\",\"url\":\"http://172.16.102.22:9230/actuator/configprops\"},{\"id\":\"beans\",\"url\":\"http://172.16.102.22:9230/actuator/beans\"},{\"id\":\"threaddump\",\"url\":\"http://172.16.102.22:9230/actuator/threaddump\"},{\"id\":\"nacos-discovery\",\"url\":\"http://172.16.102.22:9230/actuator/nacos-discovery\"},{\"id\":\"metrics\",\"url\":\"http://172.16.102.22:9230/actuator/metrics\"},{\"id\":\"conditions\",\"url\":\"http://172.16.102.22:9230/actuator/conditions\"},{\"id\":\"auditevents\",\"url\":\"http://172.16.102.22:9230/actuator/auditevents\"},{\"id\":\"service-registry\",\"url\":\"http://172.16.102.22:9230/actuator/service-registry\"},{\"id\":\"info\",\"url\":\"http://172.16.102.22:9230/actuator/info\"}],\"buildVersion\":\"fc_1.4.0-SNAPSHOT\",\"tags\":{}}]},{\"name\":\"ANYEST-STRATEGY-ASYNC-SERVER\",\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"status\":\"UP\",\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":947000000},\"instances\":[{\"id\":\"bc9af34fb7fd\",\"version\":3,\"registration\":{\"name\":\"ANYEST-STRATEGY-ASYNC-SERVER\",\"managementUrl\":\"http://172.16.103.105:9527/actuator\",\"healthUrl\":\"http://172.16.103.105:9527/actuator/health\",\"serviceUrl\":\"http://172.16.103.105:9527/\",\"source\":\"discovery\",\"metadata\":{\"nacos.instanceId\":\"172.16.103.105#9527#DEFAULT#DEFAULT_GROUP@@ANYEST-STRATEGY-ASYNC-SERVER\",\"nacos.weight\":\"1.0\",\"nacos.cluster\":\"DEFAULT\",\"nacos.healthy\":\"true\"}},\"registered\":true,\"statusInfo\":{\"status\":\"UP\",\"details\":{\"hystrix\":{\"status\":\"UP\"},\"nacosConfig\":{\"status\":\"UP\",\"details\":{\"dataId: 'anyest-strategy-async-server.yaml', group: 'DEFAULT_GROUP'\":\"config is empty\",\"dataIds\":[\"anyest-strategy-async-server.yaml\",\"share-config.yaml\",\"anyest-strategy-async-server-test21.yaml\"]}},\"diskSpace\":{\"status\":\"UP\",\"details\":{\"total\":4176551809024,\"free\":3189804236800,\"threshold\":10485760}},\"refreshScope\":{\"status\":\"UP\"},\"discoveryComposite\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\",\"details\":{\"discoveryClient\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\"}}}}},\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":947000000},\"info\":{\"name\":\"anyest-strategy-async-server\",\"description\":\"决策异步\",\"java-version\":\"1.8.0_161\",\"spring-boot-version\":\"2.1.4.RELEASE\",\"spring-cloud-version\":\"Greenwich.SR3\",\"build\":{\"version\":\"fc_1.5.0-SNAPSHOT\",\"artifact\":\"anyest-engine-base\",\"name\":\"anyest-engine-base\",\"encoding\":\"UTF-8\",\"group\":\"jrx.anyest\",\"time\":\"202010270236UTC\"}},\"endpoints\":[{\"id\":\"httptrace\",\"url\":\"http://172.16.103.105:9527/actuator/httptrace\"},{\"id\":\"caches\",\"url\":\"http://172.16.103.105:9527/actuator/caches\"},{\"id\":\"loggers\",\"url\":\"http://172.16.103.105:9527/actuator/loggers\"},{\"id\":\"refresh\",\"url\":\"http://172.16.103.105:9527/actuator/refresh\"},{\"id\":\"health\",\"url\":\"http://172.16.103.105:9527/actuator/health\"},{\"id\":\"env\",\"url\":\"http://172.16.103.105:9527/actuator/env\"},{\"id\":\"heapdump\",\"url\":\"http://172.16.103.105:9527/actuator/heapdump\"},{\"id\":\"features\",\"url\":\"http://172.16.103.105:9527/actuator/features\"},{\"id\":\"mappings\",\"url\":\"http://172.16.103.105:9527/actuator/mappings\"},{\"id\":\"scheduledtasks\",\"url\":\"http://172.16.103.105:9527/actuator/scheduledtasks\"},{\"id\":\"archaius\",\"url\":\"http://172.16.103.105:9527/actuator/archaius\"},{\"id\":\"nacos-config\",\"url\":\"http://172.16.103.105:9527/actuator/nacos-config\"},{\"id\":\"configprops\",\"url\":\"http://172.16.103.105:9527/actuator/configprops\"},{\"id\":\"beans\",\"url\":\"http://172.16.103.105:9527/actuator/beans\"},{\"id\":\"threaddump\",\"url\":\"http://172.16.103.105:9527/actuator/threaddump\"},{\"id\":\"nacos-discovery\",\"url\":\"http://172.16.103.105:9527/actuator/nacos-discovery\"},{\"id\":\"metrics\",\"url\":\"http://172.16.103.105:9527/actuator/metrics\"},{\"id\":\"conditions\",\"url\":\"http://172.16.103.105:9527/actuator/conditions\"},{\"id\":\"auditevents\",\"url\":\"http://172.16.103.105:9527/actuator/auditevents\"},{\"id\":\"info\",\"url\":\"http://172.16.103.105:9527/actuator/info\"}],\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"tags\":{}}]},{\"name\":\"ANYEST-ENGINE-SERVER\",\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"status\":\"UP\",\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":953000000},\"instances\":[{\"id\":\"34306d28ad42\",\"version\":3,\"registration\":{\"name\":\"ANYEST-ENGINE-SERVER\",\"managementUrl\":\"http://172.16.102.21:9520/actuator\",\"healthUrl\":\"http://172.16.102.21:9520/actuator/health\",\"serviceUrl\":\"http://172.16.102.21:9520/\",\"source\":\"discovery\",\"metadata\":{\"nacos.instanceId\":\"172.16.102.21#9520#DEFAULT#DEFAULT_GROUP@@ANYEST-ENGINE-SERVER\",\"nacos.weight\":\"1.0\",\"nacos.cluster\":\"DEFAULT\",\"nacos.healthy\":\"true\"}},\"registered\":true,\"statusInfo\":{\"status\":\"UP\",\"details\":{\"hystrix\":{\"status\":\"UP\"},\"nacosConfig\":{\"status\":\"UP\",\"details\":{\"dataId: 'anyest-engine-server.yaml', group: 'DEFAULT_GROUP'\":\"config is empty\",\"dataIds\":[\"anyest-engine-server-test21.yaml\",\"share-config.yaml\",\"anyest-engine-server.yaml\"]}},\"diskSpace\":{\"status\":\"UP\",\"details\":{\"total\":83035619328,\"free\":22545817600,\"threshold\":10485760}},\"refreshScope\":{\"status\":\"UP\"},\"discoveryComposite\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\",\"details\":{\"discoveryClient\":{\"description\":\"Discovery Client not initialized\",\"status\":\"UNKNOWN\"}}},\"db\":{\"status\":\"UP\",\"details\":{\"database\":\"H2\",\"hello\":1}}}},\"statusTimestamp\":{\"epochSecond\":1603782647,\"nano\":953000000},\"info\":{\"build\":{\"version\":\"fc_1.5.0-SNAPSHOT\",\"artifact\":\"anyest-engine-client\",\"name\":\"anyest-engine-client\",\"encoding\":\"UTF-8\",\"group\":\"jrx.anyest\",\"time\":\"202010270236UTC\"}},\"endpoints\":[{\"id\":\"httptrace\",\"url\":\"http://172.16.102.21:9520/actuator/httptrace\"},{\"id\":\"caches\",\"url\":\"http://172.16.102.21:9520/actuator/caches\"},{\"id\":\"loggers\",\"url\":\"http://172.16.102.21:9520/actuator/loggers\"},{\"id\":\"refresh\",\"url\":\"http://172.16.102.21:9520/actuator/refresh\"},{\"id\":\"health\",\"url\":\"http://172.16.102.21:9520/actuator/health\"},{\"id\":\"env\",\"url\":\"http://172.16.102.21:9520/actuator/env\"},{\"id\":\"heapdump\",\"url\":\"http://172.16.102.21:9520/actuator/heapdump\"},{\"id\":\"features\",\"url\":\"http://172.16.102.21:9520/actuator/features\"},{\"id\":\"mappings\",\"url\":\"http://172.16.102.21:9520/actuator/mappings\"},{\"id\":\"scheduledtasks\",\"url\":\"http://172.16.102.21:9520/actuator/scheduledtasks\"},{\"id\":\"archaius\",\"url\":\"http://172.16.102.21:9520/actuator/archaius\"},{\"id\":\"nacos-config\",\"url\":\"http://172.16.102.21:9520/actuator/nacos-config\"},{\"id\":\"configprops\",\"url\":\"http://172.16.102.21:9520/actuator/configprops\"},{\"id\":\"beans\",\"url\":\"http://172.16.102.21:9520/actuator/beans\"},{\"id\":\"threaddump\",\"url\":\"http://172.16.102.21:9520/actuator/threaddump\"},{\"id\":\"nacos-discovery\",\"url\":\"http://172.16.102.21:9520/actuator/nacos-discovery\"},{\"id\":\"metrics\",\"url\":\"http://172.16.102.21:9520/actuator/metrics\"},{\"id\":\"conditions\",\"url\":\"http://172.16.102.21:9520/actuator/conditions\"},{\"id\":\"auditevents\",\"url\":\"http://172.16.102.21:9520/actuator/auditevents\"},{\"id\":\"jolokia\",\"url\":\"http://172.16.102.21:9520/actuator/jolokia\"},{\"id\":\"info\",\"url\":\"http://172.16.102.21:9520/actuator/info\"}],\"buildVersion\":\"fc_1.5.0-SNAPSHOT\",\"tags\":{}}]}]";
        JSONArray jsonArray = JSON.parseArray(test);
        JSONArray result = new JSONArray();
        for (int i = 0; i < jsonArray.size(); i++) {
            Map map = new HashMap(3);
            map.put("name", jsonArray.getJSONObject(i).get("name"));
            map.put("status", jsonArray.getJSONObject(i).get("status"));
            map.put("buildVersion", jsonArray.getJSONObject(i).get("buildVersion"));
            result.add(map);
        }
        String resultStr = JSON.toJSONString(result);
        log.debug(resultStr);
        log.debug("....");
    }
}